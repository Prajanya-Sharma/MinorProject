{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\r\nimport { cookies } from \"next/headers\"\r\n\r\nexport async function createClient() {\r\n  const cookieStore = await cookies()\r\n\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,   // â† USE SERVICE ROLE KEY HERE\r\n    {\r\n      cookies: {\r\n        getAll() {\r\n          return cookieStore.getAll()\r\n        },\r\n        setAll(cookiesToSet) {\r\n          try {\r\n            cookiesToSet.forEach(({ name, value, options }) =>\r\n              cookieStore.set(name, value, options)\r\n            )\r\n          } catch {\r\n            // Ignore for server components\r\n          }\r\n        },\r\n      },\r\n    }\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IAEjC,OAAO,IAAA,iMAAkB,gFAEvB,QAAQ,GAAG,CAAC,yBAAyB,EACrC;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,+BAA+B;gBACjC;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/app/api/bookings/stats/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\nimport { createClient } from \"@/lib/supabase/server\"\r\n\r\nexport async function GET() {\r\n  try {\r\n    const supabase = await createClient()\r\n\r\n    const {\r\n      data: { user },\r\n      error: userError,\r\n    } = await supabase.auth.getUser()\r\n\r\n    // Return mock stats for unauthenticated users\r\n    if (userError || !user) {\r\n      return NextResponse.json({\r\n        activeBookings: 0,\r\n        totalHours: 0,\r\n        amountSpent: 0,\r\n        favoriteLots: 0,\r\n      })\r\n    }\r\n\r\n    const { data: bookings, error } = await supabase.from(\"bookings\").select(\"*\").eq(\"user_id\", user.id).throwOnError()\r\n\r\n    const activeBookings = bookings?.filter((b) => b.status === \"active\").length || 0\r\n    const totalHours = bookings?.reduce((sum, b) => sum + (b.duration || 0), 0) || 0\r\n    const amountSpent = bookings?.reduce((sum, b) => sum + (b.total_cost || 0), 0) || 0\r\n    const favoriteLots = 5 // TODO: Implement favorites tracking\r\n\r\n    return NextResponse.json({\r\n      activeBookings,\r\n      totalHours,\r\n      amountSpent,\r\n      favoriteLots,\r\n    })\r\n  } catch (error) {\r\n    console.error(\"[v0] Stats endpoint error:\", error)\r\n    return NextResponse.json({\r\n      activeBookings: 0,\r\n      totalHours: 0,\r\n      amountSpent: 0,\r\n      favoriteLots: 0,\r\n    })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,2IAAY;QAEnC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,OAAO,SAAS,EACjB,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAE/B,8CAA8C;QAC9C,IAAI,aAAa,CAAC,MAAM;YACtB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,gBAAgB;gBAChB,YAAY;gBACZ,aAAa;gBACb,cAAc;YAChB;QACF;QAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,KAAK,EAAE,EAAE,YAAY;QAEjH,MAAM,iBAAiB,UAAU,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,UAAU,UAAU;QAChF,MAAM,aAAa,UAAU,OAAO,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG,MAAM;QAC/E,MAAM,cAAc,UAAU,OAAO,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,UAAU,IAAI,CAAC,GAAG,MAAM;QAClF,MAAM,eAAe,EAAE,qCAAqC;;QAE5D,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB;YACA;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,gBAAgB;YAChB,YAAY;YACZ,aAAa;YACb,cAAc;QAChB;IACF;AACF"}}]
}