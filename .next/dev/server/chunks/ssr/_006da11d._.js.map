{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAC5B"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/lib/auth.ts"],"sourcesContent":["import { createClient } from \"@/lib/supabase/client\"\r\n\r\nexport const signUp = async (email: string, password: string, fullName: string) => {\r\n  const supabase = createClient()\r\n\r\n  const { data, error } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n    options: {\r\n      data: {\r\n        full_name: fullName,\r\n      },\r\n      emailRedirectTo: `${window.location.origin}/auth/callback`,\r\n    },\r\n  })\r\n\r\n  if (error) throw new Error(error.message)\r\n  return data\r\n}\r\n\r\nexport const signIn = async (email: string, password: string) => {\r\n  const supabase = createClient()\r\n\r\n  const { data, error } = await supabase.auth.signInWithPassword({\r\n    email,\r\n    password,\r\n  })\r\n\r\n  if (error) throw new Error(error.message)\r\n  return data\r\n}\r\n\r\nexport const signOut = async () => {\r\n  const supabase = createClient()\r\n\r\n  const { error } = await supabase.auth.signOut()\r\n\r\n  if (error) throw new Error(error.message)\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,MAAM,SAAS,OAAO,OAAe,UAAkB;IAC5D,MAAM,WAAW,IAAA,yIAAY;IAE7B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC;QACjD;QACA;QACA,SAAS;YACP,MAAM;gBACJ,WAAW;YACb;YACA,iBAAiB,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC;QAC5D;IACF;IAEA,IAAI,OAAO,MAAM,IAAI,MAAM,MAAM,OAAO;IACxC,OAAO;AACT;AAEO,MAAM,SAAS,OAAO,OAAe;IAC1C,MAAM,WAAW,IAAA,yIAAY;IAE7B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;QAC7D;QACA;IACF;IAEA,IAAI,OAAO,MAAM,IAAI,MAAM,MAAM,OAAO;IACxC,OAAO;AACT;AAEO,MAAM,UAAU;IACrB,MAAM,WAAW,IAAA,yIAAY;IAE7B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE7C,IAAI,OAAO,MAAM,IAAI,MAAM,MAAM,OAAO;AAC1C"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/navbar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname, useRouter } from \"next/navigation\"\r\nimport { signOut } from \"@/lib/auth\"\r\n\r\nexport default function Navbar() {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false)\r\n  const [user, setUser] = useState<any>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const dropdownRef = useRef<HTMLDivElement>(null)\r\n  const pathname = usePathname()\r\n  const router = useRouter()\r\n\r\n  // Fetch current user on component mount\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      // Skip auth check on landing page\r\n      if (pathname === \"/\") {\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(\"/api/auth/me\")\r\n        if (response.ok) {\r\n          const { user } = await response.json()\r\n          setUser(user)\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch user:\", error)\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchUser()\r\n  }, [pathname])\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsDropdownOpen(false)\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside)\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside)\r\n  }, [])\r\n\r\n  // Handle logout with Supabase\r\n  const handleLogout = async () => {\r\n    try {\r\n      await signOut()\r\n      setUser(null)\r\n      setIsDropdownOpen(false)\r\n      router.push(\"/login\")\r\n    } catch (error) {\r\n      console.error(\"Logout failed:\", error)\r\n    }\r\n  }\r\n\r\n  const navLinks = [\r\n    { href: \"/browse\", label: \"Browse Lots\" },\r\n    { href: \"/my-bookings\", label: \"My Bookings\" },\r\n    { href: \"/my-lots\", label: \"My Lots\" },\r\n    { href: \"/add-lot\", label: \"Add Lot\" },\r\n    { href: \"/support\", label: \"Support\" },\r\n  ]\r\n\r\n  const isActive = (href: string) => pathname === href\r\n  const userInitial = user?.user_metadata?.full_name?.[0] || user?.email?.[0] || \"U\"\r\n  const userEmail = user?.email || \"guest@example.com\"\r\n  const userName = user?.user_metadata?.full_name || \"User\"\r\n\r\n  return (\r\n    <nav className=\"glass-navbar sticky top-0 z-50 w-full\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center h-16\">\r\n          {/* Left: Logo */}\r\n          <Link href=\"/\" className=\"flex items-center space-x-2 hover:opacity-80 transition-opacity\">\r\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center\">\r\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n                />\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            <span className=\"text-xl font-bold text-white hidden sm:inline\">SmartParking</span>\r\n          </Link>\r\n\r\n          {/* Center: Desktop Navigation Links */}\r\n          <div className=\"hidden lg:flex items-center space-x-8\">\r\n            {navLinks.map((link) => (\r\n              <Link\r\n                key={link.href}\r\n                href={link.href}\r\n                className={`relative text-sm font-medium transition-colors duration-300 group ${\r\n                  isActive(link.href) ? \"text-blue-400\" : \"text-gray-300 hover:text-blue-400\"\r\n                }`}\r\n              >\r\n                {link.label}\r\n                <span\r\n                  className={`absolute bottom-0 left-0 w-0 h-0.5 bg-blue-400 transition-all duration-300 group-hover:w-full ${\r\n                    isActive(link.href) ? \"w-full\" : \"\"\r\n                  }`}\r\n                />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Right: Search, User Avatar & Menu */}\r\n          <div className=\"flex items-center space-x-4\">\r\n            <button\r\n              onClick={() => setIsSearchOpen(!isSearchOpen)}\r\n              className=\"hidden sm:flex items-center justify-center w-10 h-10 rounded-lg hover:bg-white/10 transition-colors\"\r\n              aria-label=\"Search parking lots\"\r\n            >\r\n              <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n\r\n            <div className=\"relative\" ref={dropdownRef}>\r\n              <button\r\n                onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n                className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold hover:ring-2 hover:ring-blue-300 transition-all duration-300\"\r\n                aria-label=\"User menu\"\r\n              >\r\n                {userInitial}\r\n              </button>\r\n\r\n              {isDropdownOpen && (\r\n                <div className=\"absolute right-0 mt-2 w-48 glass-card rounded-lg shadow-xl animate-in fade-in slide-in-from-top-2 duration-200\">\r\n                  {/* User Info */}\r\n                  <div className=\"px-4 py-3 border-b border-white/10\">\r\n                    <p className=\"text-sm font-medium text-white\">{userName}</p>\r\n                    <p className=\"text-xs text-gray-400\">{userEmail}</p>\r\n                  </div>\r\n\r\n                  {/* Menu Items */}\r\n                  <div className=\"py-2\">\r\n                    <Link\r\n                      href=\"/profile\"\r\n                      className=\"block px-4 py-2 text-sm text-gray-300 hover:text-blue-400 hover:bg-white/10 transition-all duration-200\"\r\n                      onClick={() => setIsDropdownOpen(false)}\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/settings\"\r\n                      className=\"block px-4 py-2 text-sm text-gray-300 hover:text-blue-400 hover:bg-white/10 transition-all duration-200\"\r\n                      onClick={() => setIsDropdownOpen(false)}\r\n                    >\r\n                      Settings\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/my-bookings\"\r\n                      className=\"block px-4 py-2 text-sm text-gray-300 hover:text-blue-400 hover:bg-white/10 transition-all duration-200\"\r\n                      onClick={() => setIsDropdownOpen(false)}\r\n                    >\r\n                      My Bookings\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/my-lots\"\r\n                      className=\"block px-4 py-2 text-sm text-gray-300 hover:text-blue-400 hover:bg-white/10 transition-all duration-200\"\r\n                      onClick={() => setIsDropdownOpen(false)}\r\n                    >\r\n                      My Lots\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/add-lot\"\r\n                      className=\"block px-4 py-2 text-sm text-gray-300 hover:text-blue-400 hover:bg-white/10 transition-all duration-200\"\r\n                      onClick={() => setIsDropdownOpen(false)}\r\n                    >\r\n                      Add Lot\r\n                    </Link>\r\n                  </div>\r\n\r\n                  {/* Divider */}\r\n                  <div className=\"border-t border-white/10\"></div>\r\n\r\n                  {/* Logout */}\r\n                  <div className=\"py-2\">\r\n                    <button\r\n                      className=\"w-full text-left px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-white/10 transition-all duration-200 rounded\"\r\n                      onClick={handleLogout}\r\n                    >\r\n                      Logout\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n              className=\"lg:hidden flex items-center justify-center w-10 h-10 rounded-lg hover:bg-white/10 transition-colors\"\r\n              aria-label=\"Toggle menu\"\r\n            >\r\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                {isMenuOpen ? (\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12M6 12h12\" />\r\n                ) : (\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n                )}\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {isMenuOpen && (\r\n          <div className=\"lg:hidden pb-4 space-y-2 animate-in slide-in-from-top duration-300\">\r\n            {/* Mobile Navigation Links */}\r\n            {navLinks.map((link) => (\r\n              <Link\r\n                key={link.href}\r\n                href={link.href}\r\n                className={`block px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\r\n                  isActive(link.href)\r\n                    ? \"bg-blue-500/20 text-blue-400 border border-blue-400/30\"\r\n                    : \"text-gray-300 hover:bg-white/10 hover:text-blue-400\"\r\n                }`}\r\n                onClick={() => setIsMenuOpen(false)}\r\n              >\r\n                {link.label}\r\n              </Link>\r\n            ))}\r\n\r\n            {/* Mobile User Menu */}\r\n            <div className=\"border-t border-white/10 pt-2 mt-2\">\r\n              <Link\r\n                href=\"/profile\"\r\n                className=\"block px-4 py-2 rounded-lg text-sm text-gray-300 hover:bg-white/10 hover:text-blue-400 transition-all duration-200\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n              >\r\n                Profile\r\n              </Link>\r\n              <Link\r\n                href=\"/settings\"\r\n                className=\"block px-4 py-2 rounded-lg text-sm text-gray-300 hover:bg-white/10 hover:text-blue-400 transition-all duration-200\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n              >\r\n                Settings\r\n              </Link>\r\n              <button\r\n                className=\"w-full text-left px-4 py-2 rounded-lg text-sm text-red-400 hover:bg-white/10 hover:text-red-300 transition-all duration-200\"\r\n                onClick={handleLogout}\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatDate(date: Date): string {\r\n  const options: Intl.DateTimeFormatOptions = {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  }\r\n  return date.toLocaleDateString(\"en-US\", options)\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAEO,SAAS,WAAW,IAAU;IACnC,MAAM,UAAsC;QAC1C,SAAS;QACT,MAAM;QACN,OAAO;QACP,KAAK;IACP;IACA,OAAO,KAAK,kBAAkB,CAAC,SAAS;AAC1C"}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,8OAAC,6KAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,4KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,8OAAC;QAAa,aAAU;;0BACtB,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,8OAAC,2KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,8OAAC,yMAAK;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8OAAC,iLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/booking-actions.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\ninterface Booking {\r\n  id: string\r\n  lotName: string\r\n  address: string\r\n  startDate: string\r\n  endDate: string\r\n  duration: string\r\n  totalCost: number\r\n  spotNumber: string\r\n  status: \"active\" | \"upcoming\" | \"completed\" | \"cancelled\"\r\n  createdAt: string\r\n}\r\n\r\nexport function BookingActions({ booking }: { booking: Booking }) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [showExtendDialog, setShowExtendDialog] = useState(false)\r\n  const [extendHours, setExtendHours] = useState(1)\r\n\r\n  const lotId = (booking as any).lot_id || booking.id\r\n\r\n  const handleAction = async (action: string) => {\r\n    setIsLoading(true)\r\n    try {\r\n      if (action === \"extend\") {\r\n        setShowExtendDialog(true)\r\n        setIsOpen(false)\r\n        return\r\n      } else if (action === \"end\") {\r\n        const response = await fetch(`/api/bookings/${booking.id}`, {\r\n          method: \"PATCH\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ action: \"end\" }),\r\n        })\r\n        if (response.ok) {\r\n          window.location.reload()\r\n        } else {\r\n          const error = await response.json()\r\n          alert(error.error || \"Failed to end parking\")\r\n        }\r\n      } else if (action === \"cancel\") {\r\n        if (confirm(\"Are you sure you want to cancel this booking?\")) {\r\n          const response = await fetch(`/api/bookings/${booking.id}`, {\r\n            method: \"DELETE\",\r\n          })\r\n          if (response.ok) {\r\n            window.location.reload()\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Action failed:\", error)\r\n      alert(\"Action failed. Please try again.\")\r\n    } finally {\r\n      setIsLoading(false)\r\n      setIsOpen(false)\r\n    }\r\n  }\r\n\r\n  const handleExtend = async () => {\r\n    setIsLoading(true)\r\n    try {\r\n      const response = await fetch(`/api/bookings/${booking.id}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ action: \"extend\", extendHours: Number(extendHours) }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        alert(`Booking extended by ${extendHours} hour(s)`)\r\n        window.location.reload()\r\n      } else {\r\n        const error = await response.json()\r\n        alert(error.error || \"Failed to extend booking\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Extend failed:\", error)\r\n      alert(\"Failed to extend booking\")\r\n    } finally {\r\n      setIsLoading(false)\r\n      setShowExtendDialog(false)\r\n    }\r\n  }\r\n\r\n  const getActions = () => {\r\n    switch (booking.status) {\r\n      case \"active\":\r\n        return [\r\n          { label: \"Extend Parking\", action: \"extend\" },\r\n          { label: \"End Parking\", action: \"end\" },\r\n          { label: \"View Lot\", action: \"view\", href: `/lots/${lotId}` },\r\n        ]\r\n      case \"upcoming\":\r\n        return [\r\n          { label: \"Cancel\", action: \"cancel\" },\r\n          { label: \"View Lot\", action: \"view\", href: `/lots/${lotId}` },\r\n        ]\r\n      case \"completed\":\r\n        return [\r\n          { label: \"Rebook\", action: \"rebook\", href: `/lots/${lotId}` },\r\n          { label: \"View Lot\", action: \"view\", href: `/lots/${lotId}` },\r\n        ]\r\n      case \"cancelled\":\r\n        return [{ label: \"Rebook\", action: \"rebook\", href: `/lots/${lotId}` }]\r\n      default:\r\n        return []\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relative\">\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation()\r\n            setIsOpen(!isOpen)\r\n          }}\r\n          className=\"p-2 rounded-lg glass-card hover:bg-white/20 transition-all\"\r\n        >\r\n          <svg className=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\r\n          </svg>\r\n        </button>\r\n\r\n        {isOpen && (\r\n          <div className=\"absolute right-0 mt-2 w-48 glass-card rounded-lg overflow-hidden z-50 shadow-lg\">\r\n            {getActions().map((action, index) => (\r\n              <div key={action.action}>\r\n                {action.href ? (\r\n                  <Link href={action.href} onClick={() => setIsOpen(false)}>\r\n                    <button className=\"w-full px-4 py-2 text-left text-white/80 hover:bg-white/10 transition-all text-sm\">\r\n                      {action.label}\r\n                    </button>\r\n                  </Link>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handleAction(action.action)}\r\n                    disabled={isLoading}\r\n                    className=\"w-full px-4 py-2 text-left text-white/80 hover:bg-white/10 transition-all text-sm disabled:opacity-50\"\r\n                  >\r\n                    {action.label}\r\n                  </button>\r\n                )}\r\n                {index < getActions().length - 1 && <div className=\"h-px bg-white/10\" />}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Dialog open={showExtendDialog} onOpenChange={setShowExtendDialog}>\r\n        <DialogContent className=\"glass-card border border-white/20\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-white\">Extend Parking</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm text-gray-400 mb-2\">Extend by (hours)</label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"24\"\r\n                value={extendHours}\r\n                onChange={(e) => setExtendHours(Number(e.target.value))}\r\n                className=\"bg-white/5 border-white/20 text-white\"\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                onClick={handleExtend}\r\n                disabled={isLoading || extendHours < 1}\r\n                className=\"flex-1 bg-blue-500 hover:bg-blue-600\"\r\n              >\r\n                {isLoading ? \"Extending...\" : \"Confirm\"}\r\n              </Button>\r\n              <Button\r\n                onClick={() => setShowExtendDialog(false)}\r\n                variant=\"outline\"\r\n                className=\"flex-1 border-white/20 text-white hover:bg-white/10\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/booking-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { BookingActions } from \"@/components/booking-actions\"\r\n\r\ninterface Booking {\r\n  id: string\r\n  lotName: string\r\n  address: string\r\n  startDate: string\r\n  endDate: string\r\n  duration: string\r\n  totalCost: number\r\n  spotNumber: string\r\n  status: \"active\" | \"upcoming\" | \"completed\" | \"cancelled\"\r\n  createdAt: string\r\n}\r\n\r\nconst statusColors = {\r\n  active: \"bg-green-500/20 text-green-400 border-green-500/30\",\r\n  upcoming: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\r\n  completed: \"bg-gray-500/20 text-gray-400 border-gray-500/30\",\r\n  cancelled: \"bg-red-500/20 text-red-400 border-red-500/30\",\r\n}\r\n\r\nexport function BookingCard({ booking }: { booking: Booking }) {\r\n  const [isExpanded, setIsExpanded] = useState(false)\r\n\r\n  return (\r\n    <Card\r\n      onClick={() => setIsExpanded(!isExpanded)}\r\n      className=\"glass-card p-6 rounded-lg cursor-pointer transition-all hover:bg-white/20\"\r\n    >\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-4 mb-4\">\r\n            <div>\r\n              <h3 className=\"text-xl font-semibold text-white\">{booking.lotName}</h3>\r\n              <p className=\"text-white/60\">{booking.address}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\r\n            <div>\r\n              <p className=\"text-white/50 text-sm mb-1\">Date & Time</p>\r\n              <p className=\"text-white font-medium\">{booking.startDate}</p>\r\n              <p className=\"text-white/70 text-sm\">{booking.endDate.split(\" \")[1]}</p>\r\n            </div>\r\n\r\n            <div>\r\n              <p className=\"text-white/50 text-sm mb-1\">Duration</p>\r\n              <p className=\"text-white font-medium\">{booking.duration}</p>\r\n            </div>\r\n\r\n            <div>\r\n              <p className=\"text-white/50 text-sm mb-1\">Spot Number</p>\r\n              <p className=\"text-white font-medium\">{booking.spotNumber}</p>\r\n            </div>\r\n\r\n            <div>\r\n              <p className=\"text-white/50 text-sm mb-1\">Total Cost</p>\r\n              <p className=\"text-green-400 font-semibold text-lg\">${booking.totalCost}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className={`px-3 py-1 rounded-full text-sm font-medium border ${statusColors[booking.status]}`}>\r\n              {booking.status.charAt(0).toUpperCase() + booking.status.slice(1)}\r\n            </span>\r\n            <span className=\"text-white/50 text-sm\">ID: {booking.id}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <BookingActions booking={booking} />\r\n      </div>\r\n\r\n      {/* Expanded Details */}\r\n      {isExpanded && (\r\n        <div className=\"mt-6 pt-6 border-t border-white/10\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n            <div>\r\n              <p className=\"text-white/50 text-sm mb-2\">Booking Details</p>\r\n              <div className=\"space-y-2 text-sm text-white/70\">\r\n                <p>Entry: {booking.startDate}</p>\r\n                <p>Exit: {booking.endDate}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <p className=\"text-white/50 text-sm mb-2\">Location</p>\r\n              <div className=\"space-y-2 text-sm text-white/70\">\r\n                <p>Spot: {booking.spotNumber}</p>\r\n                <p>{booking.address}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAmBA,MAAM,eAAe;IACnB,QAAQ;IACR,UAAU;IACV,WAAW;IACX,WAAW;AACb;AAEO,SAAS,YAAY,EAAE,OAAO,EAAwB;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,qBACE,8OAAC,iIAAI;QACH,SAAS,IAAM,cAAc,CAAC;QAC9B,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;sDAAoC,QAAQ,OAAO;;;;;;sDACjE,8OAAC;4CAAE,WAAU;sDAAiB,QAAQ,OAAO;;;;;;;;;;;;;;;;;0CAIjD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;0DAA0B,QAAQ,SAAS;;;;;;0DACxD,8OAAC;gDAAE,WAAU;0DAAyB,QAAQ,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;;;;;;kDAGrE,8OAAC;;0DACC,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;0DAA0B,QAAQ,QAAQ;;;;;;;;;;;;kDAGzD,8OAAC;;0DACC,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;0DAA0B,QAAQ,UAAU;;;;;;;;;;;;kDAG3D,8OAAC;;0DACC,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;;oDAAuC;oDAAE,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;0CAI3E,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAW,CAAC,kDAAkD,EAAE,YAAY,CAAC,QAAQ,MAAM,CAAC,EAAE;kDACjG,QAAQ,MAAM,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,QAAQ,MAAM,CAAC,KAAK,CAAC;;;;;;kDAEjE,8OAAC;wCAAK,WAAU;;4CAAwB;4CAAK,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;kCAI3D,8OAAC,mJAAc;wBAAC,SAAS;;;;;;;;;;;;YAI1B,4BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;gDAAE;gDAAQ,QAAQ,SAAS;;;;;;;sDAC5B,8OAAC;;gDAAE;gDAAO,QAAQ,OAAO;;;;;;;;;;;;;;;;;;;sCAI7B,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;gDAAE;gDAAO,QAAQ,UAAU;;;;;;;sDAC5B,8OAAC;sDAAG,QAAQ,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQnC"}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/components/booking-filters.tsx"],"sourcesContent":["\"use client\"\r\n\r\ntype BookingStatus = \"active\" | \"upcoming\" | \"completed\" | \"cancelled\"\r\ntype SortOption = \"date-newest\" | \"cost-highest\"\r\n\r\ninterface BookingFiltersProps {\r\n  activeStatus: BookingStatus\r\n  onStatusChange: (status: BookingStatus) => void\r\n  sortBy: SortOption\r\n  onSortChange: (sort: SortOption) => void\r\n}\r\n\r\nconst statusTabs = [\r\n  { id: \"active\" as BookingStatus, label: \"Active\", icon: \"\" },\r\n  { id: \"upcoming\" as BookingStatus, label: \"Upcoming\", icon: \"\" },\r\n  { id: \"completed\" as BookingStatus, label: \"Completed\", icon: \"\" },\r\n  { id: \"cancelled\" as BookingStatus, label: \"Cancelled\", icon: \"\" },\r\n]\r\n\r\nexport function BookingFilters({ activeStatus, onStatusChange, sortBy, onSortChange }: BookingFiltersProps) {\r\n  return (\r\n    <div className=\"mb-8\">\r\n      {/* Status Tabs */}\r\n      <div className=\"flex flex-wrap gap-3 mb-6\">\r\n        {statusTabs.map((tab) => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => onStatusChange(tab.id)}\r\n            className={`px-4 py-2 rounded-lg transition-all font-medium ${\r\n              activeStatus === tab.id\r\n                ? \"glass-card bg-blue-500/30 border-blue-400/50 text-white\"\r\n                : \"glass-card text-white/70 hover:text-white hover:bg-white/10\"\r\n            }`}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Sort Options */}\r\n      <div className=\"flex gap-3 items-center\">\r\n        <span className=\"text-white/60 text-sm\">Sort by:</span>\r\n        <button\r\n          onClick={() => onSortChange(\"date-newest\")}\r\n          className={`px-3 py-1 text-sm rounded-lg transition-all ${\r\n            sortBy === \"date-newest\"\r\n              ? \"glass-card bg-blue-500/30 border-blue-400/50 text-white\"\r\n              : \"glass-card text-white/70 hover:text-white hover:bg-white/10\"\r\n          }`}\r\n        >\r\n          Newest First\r\n        </button>\r\n        <button\r\n          onClick={() => onSortChange(\"cost-highest\")}\r\n          className={`px-3 py-1 text-sm rounded-lg transition-all ${\r\n            sortBy === \"cost-highest\"\r\n              ? \"glass-card bg-blue-500/30 border-blue-400/50 text-white\"\r\n              : \"glass-card text-white/70 hover:text-white hover:bg-white/10\"\r\n          }`}\r\n        >\r\n          Highest Cost\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAYA,MAAM,aAAa;IACjB;QAAE,IAAI;QAA2B,OAAO;QAAU,MAAM;IAAK;IAC7D;QAAE,IAAI;QAA6B,OAAO;QAAY,MAAM;IAAK;IACjE;QAAE,IAAI;QAA8B,OAAO;QAAa,MAAM;IAAI;IAClE;QAAE,IAAI;QAA8B,OAAO;QAAa,MAAM;IAAK;CACpE;AAEM,SAAS,eAAe,EAAE,YAAY,EAAE,cAAc,EAAE,MAAM,EAAE,YAAY,EAAuB;IACxG,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;wBAEC,SAAS,IAAM,eAAe,IAAI,EAAE;wBACpC,WAAW,CAAC,gDAAgD,EAC1D,iBAAiB,IAAI,EAAE,GACnB,4DACA,+DACJ;kCAED,IAAI,KAAK;uBARL,IAAI,EAAE;;;;;;;;;;0BAcjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAwB;;;;;;kCACxC,8OAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,4CAA4C,EACtD,WAAW,gBACP,4DACA,+DACJ;kCACH;;;;;;kCAGD,8OAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,4CAA4C,EACtD,WAAW,iBACP,4DACA,+DACJ;kCACH;;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 1700, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Prajanya/SmartParking/app/my-bookings/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Navbar from \"@/components/navbar\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { BookingCard } from \"@/components/booking-card\"\r\nimport { BookingFilters } from \"@/components/booking-filters\"\r\nimport Link from \"next/link\"\r\n\r\ntype BookingStatus = \"active\" | \"upcoming\" | \"completed\" | \"cancelled\"\r\ntype SortOption = \"date-newest\" | \"cost-highest\"\r\n\r\ninterface Booking {\r\n  id: string\r\n  lot_name: string\r\n  address: string\r\n  start_date: string\r\n  end_date: string\r\n  duration: string\r\n  total_cost: number\r\n  spot_number: string\r\n  status: BookingStatus\r\n  created_at: string\r\n  lot_id: string // Include lot_id in the booking data for proper linking\r\n}\r\n\r\nexport default function MyBookingsPage() {\r\n  const [bookings, setBookings] = useState<Booking[]>([])\r\n  const [filteredBookings, setFilteredBookings] = useState<Booking[]>([])\r\n  const [activeStatus, setActiveStatus] = useState<BookingStatus>(\"active\")\r\n  const [sortBy, setSortBy] = useState<SortOption>(\"date-newest\")\r\n  const [loading, setLoading] = useState(true)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const itemsPerPage = 6\r\n\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const response = await fetch(\"/api/bookings\")\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch bookings\")\r\n        }\r\n        const data = await response.json()\r\n        setBookings(data)\r\n      } catch (error) {\r\n        console.error(\"[v0] Error fetching bookings:\", error)\r\n        setBookings([])\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchBookings()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const filtered = bookings.filter((booking) => booking.status === activeStatus)\r\n\r\n    if (sortBy === \"date-newest\") {\r\n      filtered.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\r\n    } else if (sortBy === \"cost-highest\") {\r\n      filtered.sort((a, b) => b.total_cost - a.total_cost)\r\n    }\r\n\r\n    setFilteredBookings(filtered)\r\n    setCurrentPage(1)\r\n  }, [bookings, activeStatus, sortBy])\r\n\r\n  const totalPages = Math.ceil(filteredBookings.length / itemsPerPage)\r\n  const paginatedBookings = filteredBookings.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)\r\n\r\n  const convertedBookings = paginatedBookings.map((booking) => ({\r\n    ...booking,\r\n    lotName: booking.lot_name,\r\n    startDate: booking.start_date,\r\n    endDate: booking.end_date,\r\n    totalCost: booking.total_cost,\r\n    spotNumber: booking.spot_number,\r\n    createdAt: booking.created_at,\r\n    lot_id: booking.lot_id, // Include lot_id for View Lot link\r\n  }))\r\n\r\n  return (\r\n    <main className=\"w-full min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1a2a5a] to-[#0f172a]\">\r\n      <Navbar />\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-20\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-4xl font-bold text-white mb-2\">My Bookings</h1>\r\n          <p className=\"text-white/60\">View and manage your parking reservations</p>\r\n        </div>\r\n\r\n        {/* Filter Tabs */}\r\n        <BookingFilters\r\n          activeStatus={activeStatus}\r\n          onStatusChange={setActiveStatus}\r\n          sortBy={sortBy}\r\n          onSortChange={setSortBy}\r\n        />\r\n\r\n        {/* Bookings List */}\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center py-16\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n              <p className=\"text-white/60\">Loading your bookings...</p>\r\n            </div>\r\n          </div>\r\n        ) : convertedBookings.length > 0 ? (\r\n          <div className=\"space-y-4\">\r\n            {convertedBookings.map((booking) => (\r\n              <BookingCard key={booking.id} booking={booking} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"glass-card p-12 text-center rounded-lg\">\r\n            <div className=\"mb-4\">\r\n              <svg className=\"mx-auto h-12 w-12 text-white/40\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M16 16l-4-4m0 0l-4-4m4 4l4-4m-4 4l-4 4\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-white mb-2\">No {activeStatus} bookings</h3>\r\n            <p className=\"text-white/60 mb-6\">You don't have any {activeStatus} parking bookings yet.</p>\r\n            <Link href=\"/browse\">\r\n              <Button className=\"bg-blue-500 hover:bg-blue-600 text-white\">Browse Parking Lots</Button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"flex items-center justify-center gap-4 mt-8\">\r\n            <Button\r\n              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\r\n              disabled={currentPage === 1}\r\n              variant=\"outline\"\r\n              className=\"border-white/20 text-white hover:bg-white/10\"\r\n            >\r\n              Previous\r\n            </Button>\r\n\r\n            <div className=\"flex gap-2\">\r\n              {Array.from({ length: totalPages }).map((_, i) => (\r\n                <button\r\n                  key={i + 1}\r\n                  onClick={() => setCurrentPage(i + 1)}\r\n                  className={`px-3 py-2 rounded-lg transition-all ${\r\n                    currentPage === i + 1 ? \"bg-blue-500 text-white\" : \"glass-card text-white/70 hover:text-white\"\r\n                  }`}\r\n                >\r\n                  {i + 1}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <Button\r\n              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\r\n              disabled={currentPage === totalPages}\r\n              variant=\"outline\"\r\n              className=\"border-white/20 text-white hover:bg-white/10\"\r\n            >\r\n              Next\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}